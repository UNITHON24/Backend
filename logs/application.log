2025-08-10 00:15:41 [main] INFO  c.example.unithon.UnithonApplication - Starting UnithonApplication using Java 21.0.4 with PID 9600 (/Users/yunjeong/Desktop/unithon/build/classes/java/main started by yunjeong in /Users/yunjeong/Desktop/unithon)
2025-08-10 00:15:41 [main] DEBUG c.example.unithon.UnithonApplication - Running with Spring Boot v3.5.4, Spring v6.2.9
2025-08-10 00:15:41 [main] INFO  c.example.unithon.UnithonApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-10 00:15:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-10 00:15:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 3 JPA repository interfaces.
2025-08-10 00:15:42 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=d80ca709-2739-3bf7-a85d-20ed4be5f376
2025-08-10 00:15:42 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-10 00:15:42 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-10 00:15:42 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-10 00:15:42 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-10 00:15:42 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 544 ms
2025-08-10 00:15:42 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-10 00:15:42 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-10 00:15:42 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-10 00:15:42 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-10 00:15:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-10 00:15:42 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@18ca9277
2025-08-10 00:15:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-10 00:15:42 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-10 00:15:42 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-08-10 00:15:42 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-10 00:15:43 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-10 00:15:44 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-10 00:15:44 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-10 00:15:44 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-10 00:15:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 13 mappings in 'requestMappingHandlerMapping'
2025-08-10 00:15:44 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-10 00:15:44 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-10 00:15:44 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-10 00:15:45 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #12 of file [/Users/yunjeong/Desktop/unithon/build/resources/main/data.sql]: INSERT INTO menu_synonym (menu_id, synonym, priority) VALUES (1, '아아', 1), (1, '따아', 2), (1, '아메', 3), (1, '커피', 4), (2, '라떼', 1), (2, '라떼', 2), (5, '콜라', 1), (5, '코카', 2), (6, '제로', 1), (6, '제로콜라', 2), (6, '콜라제로', 3), (9, '빅맥세트', 1), (11, '상하이세트', 1), (11, '상하이 세트', 2), (11, '맥스파이시세트', 3), (17, '감튀', 1), (17, '감자튀김', 2), (17, '프라이', 3), (18, '너겟', 1), (18, '치킨', 2)
2025-08-10 00:15:45 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-10 00:15:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-10 00:15:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-10 00:15:45 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-10 00:15:45 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-10 00:15:45 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #12 of file [/Users/yunjeong/Desktop/unithon/build/resources/main/data.sql]: INSERT INTO menu_synonym (menu_id, synonym, priority) VALUES (1, '아아', 1), (1, '따아', 2), (1, '아메', 3), (1, '커피', 4), (2, '라떼', 1), (2, '라떼', 2), (5, '콜라', 1), (5, '코카', 2), (6, '제로', 1), (6, '제로콜라', 2), (6, '콜라제로', 3), (9, '빅맥세트', 1), (11, '상하이세트', 1), (11, '상하이 세트', 2), (11, '맥스파이시세트', 3), (17, '감튀', 1), (17, '감자튀김', 2), (17, '프라이', 3), (18, '너겟', 1), (18, '치킨', 2)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.example.unithon.UnithonApplication.main(UnithonApplication.java:10)
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #12 of file [/Users/yunjeong/Desktop/unithon/build/resources/main/data.sql]: INSERT INTO menu_synonym (menu_id, synonym, priority) VALUES (1, '아아', 1), (1, '따아', 2), (1, '아메', 3), (1, '커피', 4), (2, '라떼', 1), (2, '라떼', 2), (5, '콜라', 1), (5, '코카', 2), (6, '제로', 1), (6, '제로콜라', 2), (6, '콜라제로', 3), (9, '빅맥세트', 1), (11, '상하이세트', 1), (11, '상하이 세트', 2), (11, '맥스파이시세트', 3), (17, '감튀', 1), (17, '감자튀김', 2), (17, '프라이', 3), (18, '너겟', 1), (18, '치킨', 2)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 20 common frames omitted
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry '라떼' for key 'menu_synonym.unique_synonym'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:109)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 30 common frames omitted
2025-08-10 00:17:13 [main] INFO  c.example.unithon.UnithonApplication - Starting UnithonApplication using Java 21.0.4 with PID 10416 (/Users/yunjeong/Desktop/unithon/build/classes/java/main started by yunjeong in /Users/yunjeong/Desktop/unithon)
2025-08-10 00:17:13 [main] DEBUG c.example.unithon.UnithonApplication - Running with Spring Boot v3.5.4, Spring v6.2.9
2025-08-10 00:17:13 [main] INFO  c.example.unithon.UnithonApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-10 00:17:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-10 00:17:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 3 JPA repository interfaces.
2025-08-10 00:17:13 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=d80ca709-2739-3bf7-a85d-20ed4be5f376
2025-08-10 00:17:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-10 00:17:13 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-10 00:17:13 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-10 00:17:13 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-10 00:17:13 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 499 ms
2025-08-10 00:17:13 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-10 00:17:13 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-10 00:17:13 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-10 00:17:13 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-10 00:17:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-10 00:17:13 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@34652065
2025-08-10 00:17:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-10 00:17:14 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-10 00:17:14 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-08-10 00:17:14 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-10 00:17:14 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-10 00:17:14 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-10 00:17:14 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-10 00:17:14 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-10 00:17:15 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 13 mappings in 'requestMappingHandlerMapping'
2025-08-10 00:17:15 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-10 00:17:15 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-10 00:17:15 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-10 00:17:15 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #5 of file [/Users/yunjeong/Desktop/unithon/build/resources/main/schema.sql]: CREATE INDEX idx_menu_category_id ON menu(category_id)
2025-08-10 00:17:15 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-10 00:17:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-10 00:17:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-10 00:17:15 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-10 00:17:15 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-10 00:17:15 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #5 of file [/Users/yunjeong/Desktop/unithon/build/resources/main/schema.sql]: CREATE INDEX idx_menu_category_id ON menu(category_id)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.example.unithon.UnithonApplication.main(UnithonApplication.java:10)
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #5 of file [/Users/yunjeong/Desktop/unithon/build/resources/main/schema.sql]: CREATE INDEX idx_menu_category_id ON menu(category_id)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applySchemaScripts(AbstractScriptDatabaseInitializer.java:98)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:76)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 20 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: Duplicate key name 'idx_menu_category_id'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 30 common frames omitted
2025-08-10 00:17:33 [main] INFO  c.example.unithon.UnithonApplication - Starting UnithonApplication using Java 21.0.4 with PID 10611 (/Users/yunjeong/Desktop/unithon/build/classes/java/main started by yunjeong in /Users/yunjeong/Desktop/unithon)
2025-08-10 00:17:33 [main] DEBUG c.example.unithon.UnithonApplication - Running with Spring Boot v3.5.4, Spring v6.2.9
2025-08-10 00:17:33 [main] INFO  c.example.unithon.UnithonApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-10 00:17:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-10 00:17:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 3 JPA repository interfaces.
2025-08-10 00:17:33 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=d80ca709-2739-3bf7-a85d-20ed4be5f376
2025-08-10 00:17:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-10 00:17:33 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-10 00:17:33 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-10 00:17:33 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-10 00:17:33 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 500 ms
2025-08-10 00:17:33 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-10 00:17:33 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-10 00:17:33 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-10 00:17:33 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-10 00:17:33 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-10 00:17:33 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3636f2a7
2025-08-10 00:17:33 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-10 00:17:33 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-10 00:17:33 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-08-10 00:17:33 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-10 00:17:34 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-10 00:17:34 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-10 00:17:34 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-10 00:17:34 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-10 00:17:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 13 mappings in 'requestMappingHandlerMapping'
2025-08-10 00:17:34 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-10 00:17:34 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-10 00:17:34 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-10 00:17:35 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-08-10 00:17:35 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-10 00:17:35 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-10 00:17:35 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-10 00:17:35 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-10 00:17:35 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-08-10 00:18:20 [main] INFO  c.example.unithon.UnithonApplication - Starting UnithonApplication using Java 21.0.4 with PID 11270 (/Users/yunjeong/Desktop/unithon/build/classes/java/main started by yunjeong in /Users/yunjeong/Desktop/unithon)
2025-08-10 00:18:20 [main] DEBUG c.example.unithon.UnithonApplication - Running with Spring Boot v3.5.4, Spring v6.2.9
2025-08-10 00:18:20 [main] INFO  c.example.unithon.UnithonApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-10 00:18:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-10 00:18:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 3 JPA repository interfaces.
2025-08-10 00:18:20 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=d80ca709-2739-3bf7-a85d-20ed4be5f376
2025-08-10 00:18:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-10 00:18:21 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-10 00:18:21 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-10 00:18:21 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-10 00:18:21 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 500 ms
2025-08-10 00:18:21 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-10 00:18:21 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-10 00:18:21 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-10 00:18:21 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-10 00:18:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-10 00:18:21 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3636f2a7
2025-08-10 00:18:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-10 00:18:21 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-10 00:18:21 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-08-10 00:18:21 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-10 00:18:21 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-10 00:18:22 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-10 00:18:22 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-10 00:18:22 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-10 00:18:22 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 13 mappings in 'requestMappingHandlerMapping'
2025-08-10 00:18:22 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-10 00:18:22 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-10 00:18:22 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-10 00:18:23 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-08-10 00:18:23 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-10 00:18:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-10 00:18:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-10 00:18:23 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-10 00:18:23 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-08-10 00:19:17 [main] INFO  c.example.unithon.UnithonApplication - Starting UnithonApplication using Java 21.0.4 with PID 11825 (/Users/yunjeong/Desktop/unithon/build/classes/java/main started by yunjeong in /Users/yunjeong/Desktop/unithon)
2025-08-10 00:19:17 [main] DEBUG c.example.unithon.UnithonApplication - Running with Spring Boot v3.5.4, Spring v6.2.9
2025-08-10 00:19:17 [main] INFO  c.example.unithon.UnithonApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-10 00:19:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-10 00:19:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 3 JPA repository interfaces.
2025-08-10 00:19:17 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=d80ca709-2739-3bf7-a85d-20ed4be5f376
2025-08-10 00:19:17 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-10 00:19:17 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-10 00:19:17 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-10 00:19:17 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-10 00:19:17 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 532 ms
2025-08-10 00:19:17 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-10 00:19:17 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-10 00:19:18 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-10 00:19:18 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-10 00:19:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-10 00:19:18 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6651efa4
2025-08-10 00:19:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-10 00:19:18 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-10 00:19:18 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-08-10 00:19:18 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-10 00:19:18 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-10 00:19:18 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-10 00:19:18 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-10 00:19:18 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-10 00:19:19 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 13 mappings in 'requestMappingHandlerMapping'
2025-08-10 00:19:19 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-10 00:19:19 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-10 00:19:19 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-10 00:19:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-10 00:19:19 [main] INFO  c.example.unithon.UnithonApplication - Started UnithonApplication in 2.737 seconds (process running for 3.187)
2025-08-10 00:25:43 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-10 00:25:43 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-10 00:25:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-08-10 00:25:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-08-10 00:25:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-08-10 00:25:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6a4859fc
2025-08-10 00:25:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@249a7ccc
2025-08-10 00:25:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-10 00:25:43 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-08-10 00:25:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu/search/simple?query=%EC%95%84%EC%95%84", parameters={masked}
2025-08-10 00:25:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.unithon.domain.menu.controller.MenuController#searchMenuSimple(String)
2025-08-10 00:25:43 [http-nio-8080-exec-1] INFO  c.e.u.d.menu.service.MenuService - 메뉴 검색 시작: 아아
2025-08-10 00:25:43 [http-nio-8080-exec-1] INFO  c.e.u.d.menu.service.MenuService - DB 동의어 매칭 성공: 아아 → 아메리카노
2025-08-10 00:25:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/octet-stream', given [*/*] and supported [*/*]
2025-08-10 00:25:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.example.unithon.global.error.GlobalExceptionHandler#handleException(Exception)
2025-08-10 00:25:43 [http-nio-8080-exec-1] ERROR c.e.u.g.error.GlobalExceptionHandler - HttpMediaTypeNotAcceptableException : org.springframework.web.HttpMediaTypeNotAcceptableException: No acceptable representation
2025-08-10 00:25:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-10 00:25:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.unithon.global.error.dto.ExceptionResponse@7c105556]
2025-08-10 00:25:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.HttpMediaTypeNotAcceptableException: No acceptable representation]
2025-08-10 00:25:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-08-10 00:29:20 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-10 00:29:20 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-10 00:29:20 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-10 00:29:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-10 00:29:20 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-10 00:29:23 [main] INFO  c.example.unithon.UnithonApplication - Starting UnithonApplication using Java 21.0.4 with PID 17141 (/Users/yunjeong/Desktop/unithon/build/classes/java/main started by yunjeong in /Users/yunjeong/Desktop/unithon)
2025-08-10 00:29:23 [main] DEBUG c.example.unithon.UnithonApplication - Running with Spring Boot v3.5.4, Spring v6.2.9
2025-08-10 00:29:23 [main] INFO  c.example.unithon.UnithonApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-10 00:29:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-10 00:29:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 3 JPA repository interfaces.
2025-08-10 00:29:23 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=d80ca709-2739-3bf7-a85d-20ed4be5f376
2025-08-10 00:29:23 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-10 00:29:23 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-10 00:29:23 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-10 00:29:23 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-10 00:29:23 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 504 ms
2025-08-10 00:29:23 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-10 00:29:23 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-10 00:29:23 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-10 00:29:24 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-10 00:29:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-10 00:29:24 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@120d13ae
2025-08-10 00:29:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-10 00:29:24 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-10 00:29:24 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-08-10 00:29:24 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-10 00:29:24 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-10 00:29:24 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-10 00:29:24 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-10 00:29:24 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-10 00:29:25 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 13 mappings in 'requestMappingHandlerMapping'
2025-08-10 00:29:25 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-10 00:29:25 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-10 00:29:25 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-10 00:29:25 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-10 00:29:25 [main] INFO  c.example.unithon.UnithonApplication - Started UnithonApplication in 2.836 seconds (process running for 3.344)
2025-08-10 00:29:29 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-10 00:29:29 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-10 00:29:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-08-10 00:29:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-08-10 00:29:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-08-10 00:29:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7b1466e3
2025-08-10 00:29:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@1f9a472e
2025-08-10 00:29:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-10 00:29:29 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-08-10 00:29:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu/search/simple?query=%EC%95%84%EC%95%84", parameters={masked}
2025-08-10 00:29:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.unithon.domain.menu.controller.MenuController#searchMenuSimple(String)
2025-08-10 00:29:29 [http-nio-8080-exec-2] INFO  c.e.u.d.menu.service.MenuService - 메뉴 검색 시작: 아아
2025-08-10 00:29:29 [http-nio-8080-exec-2] INFO  c.e.u.d.menu.service.MenuService - DB 동의어 매칭 성공: 아아 → 아메리카노
2025-08-10 00:29:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-10 00:29:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.unithon.global.response.ApiResponse@16375ea8]
2025-08-10 00:29:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-10 00:31:34 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu/search/simple?query=%EB%B0%94%EB%8B%90%EB%9D%BC%ED%94%8C%EB%9E%AB%ED%99%94%EC%9D%B4%ED%8A%B8", parameters={masked}
2025-08-10 00:31:34 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.unithon.domain.menu.controller.MenuController#searchMenuSimple(String)
2025-08-10 00:31:34 [http-nio-8080-exec-5] INFO  c.e.u.d.menu.service.MenuService - 메뉴 검색 시작: 바닐라플랫화이트
2025-08-10 00:31:34 [http-nio-8080-exec-5] INFO  c.e.u.g.client.gemini.GeminiService - Calling Gemini API with prompt: 사용자가 '바닐라플랫화이트'를 주문했습니다.
다음 메뉴 중에서 가장 적절한 1-2개를 추천해주세요:

- 맥스파이시 상하이 버거 세트 (6200.00원): 맥스파이시 상하이 버거 + 사이드 + 음료
- 소프트 콘 (800.00원): 부드러운 소프트 아이스크림
- 맥플러리 오레오 (2500.00원): 오레오가 들어간 아이스크림
- 애플파이 (1500.00원): 따뜻한 애플파이
- 치킨 너겟 (2200.00원): 바삭한 치킨 너겟
- 프렌치프라이 (1800.00원): 바삭한 감자튀김
- 불고기 버거 (3500.00원): 한국식 불고기 버거
- 맥스파이시 상하이 버거 (4500.00원): 매콤한 치킨 버거
- 쿼터파운더 (4800.00원): 1/4파운드 순쇠고기 패티
- 빅맥 (4200.00원): 맥도날드 대표 버거
- 불고기 버거 세트 (5200.00원): 불고기 버거 + 사이드 + 음료
- 아메리카노 (1500.00원): 깔끔하고 진한 커피의 맛
- 쿼터파운더 세트 (6500.00원): 쿼터파운더 + 사이드 + 음료
- 빅맥 세트 (5900.00원): 빅맥 + 사이드 + 음료
- 오렌지 주스 (1500.00원): 신선한 오렌지 주스
- 스프라이트 (1200.00원): 상쾌한 사이다
- 코카콜라 제로 (1200.00원): 제로 칼로리 콜라
- 코카콜라 (1200.00원): 시원한 콜라
- 캐러멜 마키아토 (2500.00원): 달콤한 캐러멜과 에스프레소
- 카푸치노 (2200.00원): 거품이 풍성한 이탈리안 커피
- 카페라떼 (2000.00원): 부드러운 우유와 에스프레소의 조화

응답 형식: JSON
{
  "recommended": ["메뉴명1", "메뉴명2"],
  "reason": "추천 이유"
}
2025-08-10 00:31:35 [http-nio-8080-exec-5] DEBUG o.s.w.c.HttpMessageConverterExtractor - Reading to [com.example.unithon.global.client.gemini.GeminiResponse]
2025-08-10 00:31:35 [http-nio-8080-exec-5] INFO  c.e.u.g.client.gemini.GeminiService - Received response from Gemini API: ```json
{
  "recommended": ["애플파이", "카페라떼"],
  "reason": "바닐라 플랫화이트는 달콤하고 부드러운 커피이므로,  상대적으로 담백한 애플파이가 단맛과의 조화를 이루어 좋은 조합입니다. 또한 카페라떼는 플랫화이트와 유사한 부드러운 우유와 에스프레소의 조합으로 커피의 풍미를 더욱 즐길 수 있습니다."
}
```

2025-08-10 00:31:35 [http-nio-8080-exec-5] INFO  c.e.u.d.menu.service.MenuService - Gemini 응답: ```json
{
  "recommended": ["애플파이", "카페라떼"],
  "reason": "바닐라 플랫화이트는 달콤하고 부드러운 커피이므로,  상대적으로 담백한 애플파이가 단맛과의 조화를 이루어 좋은 조합입니다. 또한 카페라떼는 플랫화이트와 유사한 부드러운 우유와 에스프레소의 조합으로 커피의 풍미를 더욱 즐길 수 있습니다."
}
```

2025-08-10 00:31:35 [http-nio-8080-exec-5] INFO  c.e.u.d.menu.service.MenuService - Gemini 응답에서 파싱된 추천 메뉴: [애플파이, 카페라떼]
2025-08-10 00:31:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-10 00:31:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.unithon.global.response.ApiResponse@1d9b3771]
2025-08-10 00:31:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-10 00:34:25 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-10 00:34:25 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-10 00:34:25 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-10 00:34:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-10 00:34:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-10 00:34:27 [main] INFO  c.example.unithon.UnithonApplication - Starting UnithonApplication using Java 21.0.4 with PID 19703 (/Users/yunjeong/Desktop/unithon/build/classes/java/main started by yunjeong in /Users/yunjeong/Desktop/unithon)
2025-08-10 00:34:27 [main] DEBUG c.example.unithon.UnithonApplication - Running with Spring Boot v3.5.4, Spring v6.2.9
2025-08-10 00:34:27 [main] INFO  c.example.unithon.UnithonApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-10 00:34:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-10 00:34:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 3 JPA repository interfaces.
2025-08-10 00:34:27 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=d80ca709-2739-3bf7-a85d-20ed4be5f376
2025-08-10 00:34:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-10 00:34:27 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-10 00:34:27 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-10 00:34:27 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-10 00:34:27 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 477 ms
2025-08-10 00:34:27 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-10 00:34:27 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-10 00:34:27 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-10 00:34:27 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-10 00:34:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-10 00:34:27 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5909285b
2025-08-10 00:34:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-10 00:34:28 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-10 00:34:28 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-08-10 00:34:28 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-10 00:34:28 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-10 00:34:28 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-10 00:34:28 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-10 00:34:28 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-10 00:34:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 13 mappings in 'requestMappingHandlerMapping'
2025-08-10 00:34:28 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-10 00:34:28 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-10 00:34:29 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-10 00:34:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-10 00:34:29 [main] INFO  c.example.unithon.UnithonApplication - Started UnithonApplication in 2.794 seconds (process running for 3.17)
2025-08-10 00:34:45 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-10 00:34:45 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-10 00:34:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-08-10 00:34:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-08-10 00:34:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-08-10 00:34:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@c0d114b
2025-08-10 00:34:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@14a7e16e
2025-08-10 00:34:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-10 00:34:45 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 7 ms
2025-08-10 00:34:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu/search/simple?query=%EB%B0%94%EB%8B%90%EB%9D%BC%ED%94%8C%EB%9E%AB%ED%99%94%EC%9D%B4%ED%8A%B8", parameters={masked}
2025-08-10 00:34:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.unithon.domain.menu.controller.MenuController#searchMenuSimple(String)
2025-08-10 00:34:45 [http-nio-8080-exec-2] INFO  c.e.u.d.menu.service.MenuService - 메뉴 검색 시작: 바닐라플랫화이트
2025-08-10 00:34:45 [http-nio-8080-exec-2] INFO  c.e.u.g.client.gemini.GeminiService - Calling Gemini API with prompt: 사용자가 '바닐라플랫화이트'를 주문했습니다.
이 메뉴는 현재 메뉴판에 없습니다.

다음 메뉴 중에서 바닐라플랫화이트와 가장 유사한 메뉴 1-2개를 찾아주세요:

- 맥스파이시 상하이 버거 세트 (6200.00원): 맥스파이시 상하이 버거 + 사이드 + 음료
- 소프트 콘 (800.00원): 부드러운 소프트 아이스크림
- 맥플러리 오레오 (2500.00원): 오레오가 들어간 아이스크림
- 애플파이 (1500.00원): 따뜻한 애플파이
- 치킨 너겟 (2200.00원): 바삭한 치킨 너겟
- 프렌치프라이 (1800.00원): 바삭한 감자튀김
- 불고기 버거 (3500.00원): 한국식 불고기 버거
- 맥스파이시 상하이 버거 (4500.00원): 매콤한 치킨 버거
- 쿼터파운더 (4800.00원): 1/4파운드 순쇠고기 패티
- 빅맥 (4200.00원): 맥도날드 대표 버거
- 불고기 버거 세트 (5200.00원): 불고기 버거 + 사이드 + 음료
- 아메리카노 (1500.00원): 깔끔하고 진한 커피의 맛
- 쿼터파운더 세트 (6500.00원): 쿼터파운더 + 사이드 + 음료
- 빅맥 세트 (5900.00원): 빅맥 + 사이드 + 음료
- 오렌지 주스 (1500.00원): 신선한 오렌지 주스
- 스프라이트 (1200.00원): 상쾌한 사이다
- 코카콜라 제로 (1200.00원): 제로 칼로리 콜라
- 코카콜라 (1200.00원): 시원한 콜라
- 캐러멜 마키아토 (2500.00원): 달콤한 캐러멜과 에스프레소
- 카푸치노 (2200.00원): 거품이 풍성한 이탈리안 커피
- 카페라떼 (2000.00원): 부드러운 우유와 에스프레소의 조화

중요한 규칙:
1. 카테고리가 같은 메뉴를 우선 추천 (커피→커피, 버거→버거)
2. 맛, 재료, 특성이 유사한 메뉴를 선택
3. 가격대가 비슷한 메뉴를 우선 고려
4. 반드시 위 메뉴 목록에 있는 정확한 메뉴명만 추천

예시:
- '바닐라 라떼' 요청 시 → '카페라떼' 또는 '캐러멜 마키아토' 추천
- '치즈버거' 요청 시 → '빅맥' 또는 '불고기 버거' 추천

응답 형식: JSON
{
  "recommended": ["정확한메뉴명1", "정확한메뉴명2"],
  "reason": "유사성 기준 설명"
}
2025-08-10 00:34:47 [http-nio-8080-exec-2] DEBUG o.s.w.c.HttpMessageConverterExtractor - Reading to [com.example.unithon.global.client.gemini.GeminiResponse]
2025-08-10 00:34:47 [http-nio-8080-exec-2] INFO  c.e.u.g.client.gemini.GeminiService - Received response from Gemini API: ```json
{
  "recommended": ["카페라떼", "카푸치노"],
  "reason": "바닐라 플랫화이트는 에스프레소와 우유가 기본 베이스인 커피 메뉴이며, 바닐라 시럽이 추가된 것이 특징입니다.  메뉴 목록 중 카페라떼와 카푸치노는 에스프레소와 우유를 베이스로 한 커피 메뉴로,  바닐라 플랫화이트와 가장 유사한 카테고리에 속하며, 맛과 재료 측면에서 유사성이 높습니다.  가격대 또한 비슷합니다."
}
```

2025-08-10 00:34:47 [http-nio-8080-exec-2] INFO  c.e.u.d.menu.service.MenuService - Gemini 응답: ```json
{
  "recommended": ["카페라떼", "카푸치노"],
  "reason": "바닐라 플랫화이트는 에스프레소와 우유가 기본 베이스인 커피 메뉴이며, 바닐라 시럽이 추가된 것이 특징입니다.  메뉴 목록 중 카페라떼와 카푸치노는 에스프레소와 우유를 베이스로 한 커피 메뉴로,  바닐라 플랫화이트와 가장 유사한 카테고리에 속하며, 맛과 재료 측면에서 유사성이 높습니다.  가격대 또한 비슷합니다."
}
```

2025-08-10 00:34:47 [http-nio-8080-exec-2] INFO  c.e.u.d.menu.service.MenuService - Gemini 응답에서 파싱된 추천 메뉴: [카페라떼, 카푸치노]
2025-08-10 00:34:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-10 00:34:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.unithon.global.response.ApiResponse@4dcfcdac]
2025-08-10 00:34:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-10 00:40:11 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-10 00:40:11 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-10 00:40:11 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-10 00:40:11 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-10 00:40:11 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-10 00:40:13 [main] INFO  c.example.unithon.UnithonApplication - Starting UnithonApplication using Java 21.0.4 with PID 22671 (/Users/yunjeong/Desktop/unithon/build/classes/java/main started by yunjeong in /Users/yunjeong/Desktop/unithon)
2025-08-10 00:40:13 [main] DEBUG c.example.unithon.UnithonApplication - Running with Spring Boot v3.5.4, Spring v6.2.9
2025-08-10 00:40:13 [main] INFO  c.example.unithon.UnithonApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-10 00:40:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-10 00:40:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 3 JPA repository interfaces.
2025-08-10 00:40:14 [main] INFO  o.s.cloud.context.scope.GenericScope - BeanFactory id=d80ca709-2739-3bf7-a85d-20ed4be5f376
2025-08-10 00:40:14 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-10 00:40:14 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-10 00:40:14 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.43]
2025-08-10 00:40:14 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-10 00:40:14 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 521 ms
2025-08-10 00:40:14 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-10 00:40:14 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.22.Final
2025-08-10 00:40:14 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-10 00:40:14 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-10 00:40:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-10 00:40:14 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4ebed2b3
2025-08-10 00:40:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-10 00:40:14 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-10 00:40:14 [main] WARN  org.hibernate.orm.deprecation - HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-08-10 00:40:14 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-10 00:40:15 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-10 00:40:15 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-10 00:40:15 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-10 00:40:15 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-10 00:40:15 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 13 mappings in 'requestMappingHandlerMapping'
2025-08-10 00:40:15 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-10 00:40:15 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-10 00:40:15 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-10 00:40:16 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-10 00:40:16 [main] INFO  c.example.unithon.UnithonApplication - Started UnithonApplication in 2.692 seconds (process running for 3.072)
2025-08-10 00:40:20 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-10 00:40:20 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-10 00:40:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-08-10 00:40:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-08-10 00:40:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-08-10 00:40:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@38dacb78
2025-08-10 00:40:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@2079ce51
2025-08-10 00:40:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-10 00:40:20 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-10 00:40:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu/search/simple?query=%EB%B0%94%EB%8B%90%EB%9D%BC%ED%94%8C%EB%9E%AB%ED%99%94%EC%9D%B4%ED%8A%B8", parameters={masked}
2025-08-10 00:40:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.unithon.domain.menu.controller.MenuController#searchMenuSimple(String)
2025-08-10 00:40:20 [http-nio-8080-exec-1] INFO  c.e.u.d.menu.service.MenuService - 메뉴 검색 시작: 바닐라플랫화이트
2025-08-10 00:40:20 [http-nio-8080-exec-1] INFO  c.e.u.g.client.gemini.GeminiService - Calling Gemini API with prompt: 사용자가 '바닐라플랫화이트'를 주문했습니다.
이것은 맥도날드 매장입니다. 다음은 현재 판매 중인 메뉴입니다:

버거/세트: 빅맥, 쿼터파운더, 맥스파이시 상하이 버거, 불고기 버거
커피: 아메리카노, 카페라떼, 카푸치노, 캐러멜 마키아토
음료: 코카콜라, 코카콜라 제로, 스프라이트, 오렌지 주스
사이드: 프렌치프라이, 치킨 너겟, 애플파이
디저트: 맥플러리 오레오, 소프트 콘

판단 기준:
1. 요청한 음식이 맥도날드에서 파는 종류의 음식인가?
2. 위 메뉴와 유사한 것이 있는가?

응답 규칙:
- 맥도날드와 전혀 관련 없는 음식(짜장면, 김치찌개, 초밥 등)이면 → NO_MATCH
- 유사한 메뉴가 있으면 → 다음 기준으로 추천:
  1. 카테고리가 같은 메뉴를 우선 추천 (커피→커피, 버거→버거)
  2. 맛, 재료, 특성이 유사한 메뉴를 선택
  3. 가격대가 비슷한 메뉴를 우선 고려
  4. 반드시 위 메뉴 목록에 있는 정확한 메뉴명만 추천

예시:
바닐라 라떼' → '카페라떼', '캐러멜 마키아토' 추천
'치즈버거' → '빅맥', '불고기 버거' 추천
'짜장면' → NO_MATCH (맥도날드 음식이 아님)
'김치찌개' → NO_MATCH (맥도날드 음식이 아님)

응답 형식: JSON
{
  "recommended": ["메뉴명1", "메뉴명2"] 또는 "NO_MATCH",
  "reason": "판단 이유"
}
2025-08-10 00:40:22 [http-nio-8080-exec-1] DEBUG o.s.w.c.HttpMessageConverterExtractor - Reading to [com.example.unithon.global.client.gemini.GeminiResponse]
2025-08-10 00:40:22 [http-nio-8080-exec-1] INFO  c.e.u.g.client.gemini.GeminiService - Received response from Gemini API: ```json
{
  "recommended": ["카페라떼"],
  "reason": "바닐라 플랫화이트는 커피 메뉴이며, 맥도날드 메뉴에는 직접적으로 일치하는 메뉴가 없습니다.  하지만 카페라떼는 우유 기반 커피라는 점에서 가장 유사합니다.  다른 커피 메뉴들(아메리카노, 카푸치노, 캐러멜 마키아토)은 우유가 들어가지 않거나 다른 풍미가 강하기 때문에 카페라떼를 가장 적합한 추천 메뉴로 판단했습니다."
}
```

2025-08-10 00:40:22 [http-nio-8080-exec-1] INFO  c.e.u.d.menu.service.MenuService - Gemini 응답: ```json
{
  "recommended": ["카페라떼"],
  "reason": "바닐라 플랫화이트는 커피 메뉴이며, 맥도날드 메뉴에는 직접적으로 일치하는 메뉴가 없습니다.  하지만 카페라떼는 우유 기반 커피라는 점에서 가장 유사합니다.  다른 커피 메뉴들(아메리카노, 카푸치노, 캐러멜 마키아토)은 우유가 들어가지 않거나 다른 풍미가 강하기 때문에 카페라떼를 가장 적합한 추천 메뉴로 판단했습니다."
}
```

2025-08-10 00:40:22 [http-nio-8080-exec-1] INFO  c.e.u.d.menu.service.MenuService - Gemini 응답에서 파싱된 추천 메뉴: [카페라떼]
2025-08-10 00:40:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-10 00:40:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.unithon.global.response.ApiResponse@18e259c8]
2025-08-10 00:40:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-10 00:41:19 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu/search/simple?query=%EC%A7%9C%EC%9E%A5%EB%A9%B4", parameters={masked}
2025-08-10 00:41:19 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.unithon.domain.menu.controller.MenuController#searchMenuSimple(String)
2025-08-10 00:41:19 [http-nio-8080-exec-3] INFO  c.e.u.d.menu.service.MenuService - 메뉴 검색 시작: 짜장면
2025-08-10 00:41:19 [http-nio-8080-exec-3] INFO  c.e.u.g.client.gemini.GeminiService - Calling Gemini API with prompt: 사용자가 '짜장면'를 주문했습니다.
이것은 맥도날드 매장입니다. 다음은 현재 판매 중인 메뉴입니다:

버거/세트: 빅맥, 쿼터파운더, 맥스파이시 상하이 버거, 불고기 버거
커피: 아메리카노, 카페라떼, 카푸치노, 캐러멜 마키아토
음료: 코카콜라, 코카콜라 제로, 스프라이트, 오렌지 주스
사이드: 프렌치프라이, 치킨 너겟, 애플파이
디저트: 맥플러리 오레오, 소프트 콘

판단 기준:
1. 요청한 음식이 맥도날드에서 파는 종류의 음식인가?
2. 위 메뉴와 유사한 것이 있는가?

응답 규칙:
- 맥도날드와 전혀 관련 없는 음식(짜장면, 김치찌개, 초밥 등)이면 → NO_MATCH
- 유사한 메뉴가 있으면 → 다음 기준으로 추천:
  1. 카테고리가 같은 메뉴를 우선 추천 (커피→커피, 버거→버거)
  2. 맛, 재료, 특성이 유사한 메뉴를 선택
  3. 가격대가 비슷한 메뉴를 우선 고려
  4. 반드시 위 메뉴 목록에 있는 정확한 메뉴명만 추천

예시:
바닐라 라떼' → '카페라떼', '캐러멜 마키아토' 추천
'치즈버거' → '빅맥', '불고기 버거' 추천
'짜장면' → NO_MATCH (맥도날드 음식이 아님)
'김치찌개' → NO_MATCH (맥도날드 음식이 아님)

응답 형식: JSON
{
  "recommended": ["메뉴명1", "메뉴명2"] 또는 "NO_MATCH",
  "reason": "판단 이유"
}
2025-08-10 00:41:20 [http-nio-8080-exec-3] DEBUG o.s.w.c.HttpMessageConverterExtractor - Reading to [com.example.unithon.global.client.gemini.GeminiResponse]
2025-08-10 00:41:20 [http-nio-8080-exec-3] INFO  c.e.u.g.client.gemini.GeminiService - Received response from Gemini API: ```json
{
  "recommended": "NO_MATCH",
  "reason": "짜장면은 맥도날드 메뉴에 없습니다."
}
```

2025-08-10 00:41:20 [http-nio-8080-exec-3] INFO  c.e.u.d.menu.service.MenuService - Gemini 응답: ```json
{
  "recommended": "NO_MATCH",
  "reason": "짜장면은 맥도날드 메뉴에 없습니다."
}
```

2025-08-10 00:41:20 [http-nio-8080-exec-3] INFO  c.e.u.d.menu.service.MenuService - Gemini 응답: 맥도날드 메뉴와 관련 없는 요청으로 판단됨
2025-08-10 00:41:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-10 00:41:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.unithon.global.response.ApiResponse@7adf06e1]
2025-08-10 00:41:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-10 00:42:01 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu/search/simple?query=%EB%B2%A0%EC%9D%B4%EC%BB%A8%ED%86%A0%EB%A7%88%ED%86%A0%EB%94%94%EB%9F%AD%EC%8A%A4%EB%B2%84%EA%B1%B0", parameters={masked}
2025-08-10 00:42:01 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.unithon.domain.menu.controller.MenuController#searchMenuSimple(String)
2025-08-10 00:42:01 [http-nio-8080-exec-4] INFO  c.e.u.d.menu.service.MenuService - 메뉴 검색 시작: 베이컨토마토디럭스버거
2025-08-10 00:42:01 [http-nio-8080-exec-4] INFO  c.e.u.g.client.gemini.GeminiService - Calling Gemini API with prompt: 사용자가 '베이컨토마토디럭스버거'를 주문했습니다.
이것은 맥도날드 매장입니다. 다음은 현재 판매 중인 메뉴입니다:

버거/세트: 빅맥, 쿼터파운더, 맥스파이시 상하이 버거, 불고기 버거
커피: 아메리카노, 카페라떼, 카푸치노, 캐러멜 마키아토
음료: 코카콜라, 코카콜라 제로, 스프라이트, 오렌지 주스
사이드: 프렌치프라이, 치킨 너겟, 애플파이
디저트: 맥플러리 오레오, 소프트 콘

판단 기준:
1. 요청한 음식이 맥도날드에서 파는 종류의 음식인가?
2. 위 메뉴와 유사한 것이 있는가?

응답 규칙:
- 맥도날드와 전혀 관련 없는 음식(짜장면, 김치찌개, 초밥 등)이면 → NO_MATCH
- 유사한 메뉴가 있으면 → 다음 기준으로 추천:
  1. 카테고리가 같은 메뉴를 우선 추천 (커피→커피, 버거→버거)
  2. 맛, 재료, 특성이 유사한 메뉴를 선택
  3. 가격대가 비슷한 메뉴를 우선 고려
  4. 반드시 위 메뉴 목록에 있는 정확한 메뉴명만 추천

예시:
바닐라 라떼' → '카페라떼', '캐러멜 마키아토' 추천
'치즈버거' → '빅맥', '불고기 버거' 추천
'짜장면' → NO_MATCH (맥도날드 음식이 아님)
'김치찌개' → NO_MATCH (맥도날드 음식이 아님)

응답 형식: JSON
{
  "recommended": ["메뉴명1", "메뉴명2"] 또는 "NO_MATCH",
  "reason": "판단 이유"
}
2025-08-10 00:42:02 [http-nio-8080-exec-4] DEBUG o.s.w.c.HttpMessageConverterExtractor - Reading to [com.example.unithon.global.client.gemini.GeminiResponse]
2025-08-10 00:42:02 [http-nio-8080-exec-4] INFO  c.e.u.g.client.gemini.GeminiService - Received response from Gemini API: ```json
{
  "recommended": ["빅맥", "쿼터파운더"],
  "reason": "베이컨토마토디럭스버거는 맥도날드 메뉴에는 없지만, 버거 종류이며 베이컨과 토마토가 들어간 것으로 추정되므로, 맥도날드의 다른 버거 메뉴인 빅맥과 쿼터파운더를 추천합니다."
}
```

2025-08-10 00:42:02 [http-nio-8080-exec-4] INFO  c.e.u.d.menu.service.MenuService - Gemini 응답: ```json
{
  "recommended": ["빅맥", "쿼터파운더"],
  "reason": "베이컨토마토디럭스버거는 맥도날드 메뉴에는 없지만, 버거 종류이며 베이컨과 토마토가 들어간 것으로 추정되므로, 맥도날드의 다른 버거 메뉴인 빅맥과 쿼터파운더를 추천합니다."
}
```

2025-08-10 00:42:02 [http-nio-8080-exec-4] INFO  c.e.u.d.menu.service.MenuService - Gemini 응답에서 파싱된 추천 메뉴: [빅맥, 쿼터파운더]
2025-08-10 00:42:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-10 00:42:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.unithon.global.response.ApiResponse@5103007e]
2025-08-10 00:42:02 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-10 00:43:29 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu/search/simple?query=", parameters={masked}
2025-08-10 00:43:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.unithon.domain.menu.controller.MenuController#searchMenuSimple(String)
2025-08-10 00:43:29 [http-nio-8080-exec-7] INFO  c.e.u.d.menu.service.MenuService - 메뉴 검색 시작: 
2025-08-10 00:43:29 [http-nio-8080-exec-7] INFO  c.e.u.g.client.gemini.GeminiService - Calling Gemini API with prompt: 사용자가 ''를 주문했습니다.
이것은 맥도날드 매장입니다. 다음은 현재 판매 중인 메뉴입니다:

버거/세트: 빅맥, 쿼터파운더, 맥스파이시 상하이 버거, 불고기 버거
커피: 아메리카노, 카페라떼, 카푸치노, 캐러멜 마키아토
음료: 코카콜라, 코카콜라 제로, 스프라이트, 오렌지 주스
사이드: 프렌치프라이, 치킨 너겟, 애플파이
디저트: 맥플러리 오레오, 소프트 콘

판단 기준:
1. 요청한 음식이 맥도날드에서 파는 종류의 음식인가?
2. 위 메뉴와 유사한 것이 있는가?

응답 규칙:
- 맥도날드와 전혀 관련 없는 음식(짜장면, 김치찌개, 초밥 등)이면 → NO_MATCH
- 유사한 메뉴가 있으면 → 다음 기준으로 추천:
  1. 카테고리가 같은 메뉴를 우선 추천 (커피→커피, 버거→버거)
  2. 맛, 재료, 특성이 유사한 메뉴를 선택
  3. 가격대가 비슷한 메뉴를 우선 고려
  4. 반드시 위 메뉴 목록에 있는 정확한 메뉴명만 추천

예시:
바닐라 라떼' → '카페라떼', '캐러멜 마키아토' 추천
'치즈버거' → '빅맥', '불고기 버거' 추천
'짜장면' → NO_MATCH (맥도날드 음식이 아님)
'김치찌개' → NO_MATCH (맥도날드 음식이 아님)

응답 형식: JSON
{
  "recommended": ["메뉴명1", "메뉴명2"] 또는 "NO_MATCH",
  "reason": "판단 이유"
}
2025-08-10 00:43:31 [http-nio-8080-exec-7] DEBUG o.s.w.c.HttpMessageConverterExtractor - Reading to [com.example.unithon.global.client.gemini.GeminiResponse]
2025-08-10 00:43:31 [http-nio-8080-exec-7] INFO  c.e.u.g.client.gemini.GeminiService - Received response from Gemini API: 사용자가 주문한 음식이 없으므로 응답할 수 없습니다.  사용자가 주문한 음식을 입력해주세요.

2025-08-10 00:43:31 [http-nio-8080-exec-7] INFO  c.e.u.d.menu.service.MenuService - Gemini 응답: 사용자가 주문한 음식이 없으므로 응답할 수 없습니다.  사용자가 주문한 음식을 입력해주세요.

2025-08-10 00:43:31 [http-nio-8080-exec-7] INFO  c.e.u.d.menu.service.MenuService - Gemini 응답에서 파싱된 추천 메뉴: []
2025-08-10 00:43:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-10 00:43:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.unithon.global.response.ApiResponse@150fbbe2]
2025-08-10 00:43:31 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-10 00:44:40 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu/search/simple?query=%EC%95%84%EC%95%84", parameters={masked}
2025-08-10 00:44:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.unithon.domain.menu.controller.MenuController#searchMenuSimple(String)
2025-08-10 00:44:40 [http-nio-8080-exec-10] INFO  c.e.u.d.menu.service.MenuService - 메뉴 검색 시작: 아아
2025-08-10 00:44:40 [http-nio-8080-exec-10] INFO  c.e.u.d.menu.service.MenuService - DB 동의어 매칭 성공: 아아 → 아메리카노
2025-08-10 00:44:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-10 00:44:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.unithon.global.response.ApiResponse@7638cb04]
2025-08-10 00:44:40 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-10 00:45:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/menu/search/simple?query=%EC%95%84%EC%9D%B4%EC%8A%A4%EC%95%84%EB%A9%94%EC%B9%B4%EB%85%B8", parameters={masked}
2025-08-10 00:45:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.unithon.domain.menu.controller.MenuController#searchMenuSimple(String)
2025-08-10 00:45:05 [http-nio-8080-exec-2] INFO  c.e.u.d.menu.service.MenuService - 메뉴 검색 시작: 아이스아메카노
2025-08-10 00:45:05 [http-nio-8080-exec-2] INFO  c.e.u.g.client.gemini.GeminiService - Calling Gemini API with prompt: 사용자가 '아이스아메카노'를 주문했습니다.
이것은 맥도날드 매장입니다. 다음은 현재 판매 중인 메뉴입니다:

버거/세트: 빅맥, 쿼터파운더, 맥스파이시 상하이 버거, 불고기 버거
커피: 아메리카노, 카페라떼, 카푸치노, 캐러멜 마키아토
음료: 코카콜라, 코카콜라 제로, 스프라이트, 오렌지 주스
사이드: 프렌치프라이, 치킨 너겟, 애플파이
디저트: 맥플러리 오레오, 소프트 콘

판단 기준:
1. 요청한 음식이 맥도날드에서 파는 종류의 음식인가?
2. 위 메뉴와 유사한 것이 있는가?

응답 규칙:
- 맥도날드와 전혀 관련 없는 음식(짜장면, 김치찌개, 초밥 등)이면 → NO_MATCH
- 유사한 메뉴가 있으면 → 다음 기준으로 추천:
  1. 카테고리가 같은 메뉴를 우선 추천 (커피→커피, 버거→버거)
  2. 맛, 재료, 특성이 유사한 메뉴를 선택
  3. 가격대가 비슷한 메뉴를 우선 고려
  4. 반드시 위 메뉴 목록에 있는 정확한 메뉴명만 추천

예시:
바닐라 라떼' → '카페라떼', '캐러멜 마키아토' 추천
'치즈버거' → '빅맥', '불고기 버거' 추천
'짜장면' → NO_MATCH (맥도날드 음식이 아님)
'김치찌개' → NO_MATCH (맥도날드 음식이 아님)

응답 형식: JSON
{
  "recommended": ["메뉴명1", "메뉴명2"] 또는 "NO_MATCH",
  "reason": "판단 이유"
}
2025-08-10 00:45:06 [http-nio-8080-exec-2] DEBUG o.s.w.c.HttpMessageConverterExtractor - Reading to [com.example.unithon.global.client.gemini.GeminiResponse]
2025-08-10 00:45:06 [http-nio-8080-exec-2] INFO  c.e.u.g.client.gemini.GeminiService - Received response from Gemini API: ```json
{
  "recommended": ["아메리카노"],
  "reason": "고객이 주문한 '아이스아메리카노'는 맥도날드 메뉴에 있는 '아메리카노'와 유사합니다. 차이점은 아이스 여부이지만, 메뉴에 따로 아이스/핫을 구분하지 않고 아메리카노만 있으므로 아메리카노를 추천합니다."
}
```

2025-08-10 00:45:06 [http-nio-8080-exec-2] INFO  c.e.u.d.menu.service.MenuService - Gemini 응답: ```json
{
  "recommended": ["아메리카노"],
  "reason": "고객이 주문한 '아이스아메리카노'는 맥도날드 메뉴에 있는 '아메리카노'와 유사합니다. 차이점은 아이스 여부이지만, 메뉴에 따로 아이스/핫을 구분하지 않고 아메리카노만 있으므로 아메리카노를 추천합니다."
}
```

2025-08-10 00:45:06 [http-nio-8080-exec-2] INFO  c.e.u.d.menu.service.MenuService - Gemini 응답에서 파싱된 추천 메뉴: [아메리카노]
2025-08-10 00:45:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-10 00:45:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.unithon.global.response.ApiResponse@73cf7ef]
2025-08-10 00:45:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-10 00:48:18 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-10 00:48:18 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-10 00:48:18 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-10 00:48:18 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-10 00:48:18 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
